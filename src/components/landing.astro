---
import Harmony from "./animation/harmony";
import Donate from "./donate.astro";
import TextTrail from "./animation/text-trail";
import HeroText from "./animation/hero-text";
import HarmonyIcons from "./harmony-icons.astro";
---

<div
	class="relative mx-auto -mt-8 flex min-h-[40vh] w-full flex-col items-center justify-center gap-6 overflow-visible py-8 md:mt-0 md:mb-20 md:gap-8 md:px-6 lg:px-8"
>
	<div
		class="pointer-events-none absolute inset-0 z-0 flex items-center justify-center overflow-visible"
	>
		<div id="harmony" class="flex h-full w-full items-center justify-center">
			<Harmony client:load />
		</div>
	</div>
	<div class="animate-fade-in absolute inset-0 z-10 p-3 md:p-6 lg:p-8" style="--delay: 6.5s">
		<TextTrail client:load />
	</div>
	<div
		class="animate-fade-in relative mx-auto flex max-w-screen-2xl flex-col items-center"
		style="--delay: 5.5s"
	>
		<div class="mb-6 h-24 w-full md:mb-8 md:h-32 lg:h-48">
			<HarmonyIcons />
		</div>
		<HeroText client:load />
	</div>
	<div
		class="animate-fade-in relative z-20"
		style="--delay: 6.2s"
		onanimationend="this.classList.remove('pointer-events-none')"
	>
		<Donate />
	</div>
</div>

<style>
	@keyframes fade-in {
		from {
			opacity: 0;
			transform: translateY(1rem);
			filter: blur(8px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
			filter: blur(0);
		}
	}

	.animate-fade-in {
		animation: fade-in 0.8s ease-out forwards;
		animation-delay: var(--delay, 0s);
		opacity: 0;
	}
</style>
