---
import type { CollectionEntry } from "astro:content";
import WorkCard from "@/components/works/work-card.astro";
import ContentGrid from "@/components/ui/content-grid.astro";

interface Props {
  works: CollectionEntry<"works">[];
}

const { works } = Astro.props;

const sortedWorks = works?.length
  ? [...works].sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  : [];
---

<ContentGrid hasItems={works.length > 0} emptyMessage="No works found">
  {sortedWorks.map((work) => <WorkCard work={work} />)}
</ContentGrid>
