---
import { cn } from "@/lib/utils";

interface Props {
	Icon: ((_props: astroHTML.JSX.SVGAttributes) => any) & ImageMetadata;
	size?: "default" | "lg";
	class?: string;
}

const { size = "default", class: className, Icon } = Astro.props;

const sizeClasses = {
	default: {
		button: "h-11 w-18",
		icon: "h-8 w-8",
	},
	lg: {
		button: "h-18 w-32",
		icon: "h-12 w-12",
	},
};

const ActionIcon = Icon;
const translateClass = "md:group-hover:translate-x-[200%]";
const initialTranslateClass = "-translate-x-[200%]";
---

<div
	class={cn(
		"bg-accent text-background md:group-hover:bg-primary flex items-center justify-center overflow-hidden rounded-full transition-colors duration-300 ease-in-out",
		sizeClasses[size].button,
		className,
	)}
>
	<div class="relative flex w-full items-center justify-center">
		<ActionIcon
			class={cn("transition-all duration-300 ease-in-out", translateClass, sizeClasses[size].icon)}
		/>
		<ActionIcon
			class={cn(
				"absolute transition-all duration-300 ease-in-out md:group-hover:translate-x-0",
				initialTranslateClass,
				sizeClasses[size].icon,
			)}
		/>
	</div>
</div>
